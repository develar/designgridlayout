<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Oct 16, 2010 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>DesignGridLayout - Usage</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Jason Osgood" />
    <meta name="Date-Revision-yyyymmdd" content="20101016" />
    <meta http-equiv="Content-Language" content="en" />
        
  </head>
  <body class="composite">
    <div id="banner">
                  <a href="../../" id="bannerLeft">
                DesignGridLayout
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2010-10-16</span>
                  &nbsp;| <span id="projectVersion">Version: 1.3</span>
                      </div>
            <div class="xright">        
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>General</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="grids.html" title="Canonical Grids">Canonical Grids</a>
            </li>
                  <li class="none">
            <strong>Usage</strong>
          </li>
                  <li class="none">
                          <a href="examples.html" title="Examples">Examples</a>
            </li>
                  <li class="none">
                          <a href="maven.html" title="Using in Maven Project">Using in Maven Project</a>
            </li>
                  <li class="none">
                          <a href="build-from-sources.html" title="Building from sources">Building from sources</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                  <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>First steps<a name="First_steps"></a></h2><p>Using DesignGridLayout is quite straitghtforward once you have understood its basic principles.</p><p>Moreover, thanks to its fluent API, there is no room for errors at runtime, as compared to other <tt>LayoutManager</tt>s that require to add components to the <tt>Container</tt> along with hard to read codes, hard-coded as Strings.</p><p>Contrarily to almost every other <tt>LayoutManager</tt>, DesignGridLayout does not allow you to directly add components to a container; instead, adding components can only be performed, safely, through DesignGridLayout API itself.</p><p>For example, for a usual LayoutManager, you may do:</p><div class="source"><pre>public class MyPanel extends JPanel {
    public MyPanel() {
        setLayout(new BorderLayout());
        add(new JLabel(&quot;Hello&quot;), BorderLayout.NORTH);
    }
}
</pre></div><p>But with DesignGridLayout:</p><div class="source"><pre>public class MyPanel extends JPanel {
    public MyPanel() {
        DesignGridLayout layout = new DesignGridLayout(this);
        layout.row().grid().add(new JLabel(&quot;Hello&quot;));
    }
}
</pre></div><p>In this very simple example, you can see that <tt>layout</tt> is the principal object to be used for adding components to the container. Please also note that with DesignGridLayout, you don't need to explicitly call <tt>setLayout</tt> on the container, DesignGridLayout takes care of that for you.</p><p>For every row of components you want created in a container, you need to call <tt>layout.row()</tt> (or one of the alternatives to <tt>row()</tt>, explained later). This returns an object (a &quot;row&quot;) which provides its own API to add components to this row.</p><p>Rows are created vertically from top to bottom, in the same order as lines of code that call <tt>layout.row()</tt>. Inside one row, you add components from left to right in the same order calls to <tt>add()</tt> appear in each row.</p><p>Hence this allows you to &quot;visualize&quot; the container layout just by viewing the source code:</p><div class="source"><pre>DesignGridLayout layout = new DesignGridLayout(this);
layout.row().grid(new JLabel(&quot;First name&quot;)).add(new JTextField());
layout.row().grid(new JLabel(&quot;Last name&quot;)).add(new JTextField());
</pre></div><p>The snippet above creates 2 rows, each with a label and a text field.</p><p>Moreover, this allows inserting a new row without any hassle (try to imagine the following snippet with GridBagLayout...):</p><div class="source"><pre>DesignGridLayout layout = new DesignGridLayout(this);
layout.row().grid(new JLabel(&quot;First name&quot;)).add(new JTextField());
layout.row().grid(new JLabel(&quot;Middle initial&quot;)).add(new JTextField());
layout.row().grid(new JLabel(&quot;Last name&quot;)).add(new JTextField());
</pre></div><p>DesignGridLayout always takes care of the correct spacing between components inside the container, without requiring you to specify any value. In addition, all components inside a row are automatically &quot;baseline-aligned&quot;.</p></div><div class="section"><h2>DesignGridLayout API by example<a name="DesignGridLayout_API_by_example"></a></h2><p>After the first steps, this section gives more details and explanations on DesignGridLayout API through simple examples. The source for all examples is available in DesignGridLayout <a class="externalLink" href="https://designgridlayout.dev.java.net/files/documents/4350/122556/designgridlayout-1.1p1-test-sources.jar">test sources archive</a>.</p><p>Although not mandatory, it is advised to first read the DesignGridLayout <a href="./index.html">Introduction</a>.</p><p>First, we demonstrate 3 equivalent ways to add components to a row. Please note the first way is not recommended (it is shown for the sake of exhaustiveness). Using the second or third way is a matter of personal taste; some developers prefer method chaining because it helps better visualizing the layout in the code, while other developers prefer to call <tt>add()</tt> once with all the components in the row, to save some typing.</p><div class="source"><pre>package net.java.dev.designgridlayout;

import javax.swing.*;

public class Basics1SimpleGrid 
{
    public static void main(String[] args) 
    {
        JFrame frame = new JFrame(&quot;Example 1&quot;);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        JPanel top = new JPanel();              
        DesignGridLayout layout = new DesignGridLayout(top);

        // You can add components one line at a time (not advised)
        IRow row = layout.row().grid();
        row.add(button());
        row.add(button());

        // Or using method chaining
        layout.row().grid().add(button()).add(button());

        // Or, even better, using variable arguments
        layout.row().grid().add(button(), button());

        frame.add(top);
        frame.pack();
        frame.setVisible(true);
    }

    public static JButton button()
    {
        return new JButton(&quot;Button&quot;);
    }
}
</pre></div><img src="images/Basics1SimpleGrid-org.png" alt="Example 1: Simple grid" /><p><a href="./xref-test/net/java/dev/designgridlayout/Basics1SimpleGrid.html">(Example 1 source)</a></p><p>Then, we'll build a simple form based on the 4 column canonical grid shown below: </p><img src="images/grid-example.png" alt="" /><p>Example 2 reflects the design above.</p><div class="source"><pre>layout.row().grid().add(button()).add(button());
layout.row().grid().add(button()).add(button()).add(button());
layout.row().grid().add(button(), 2).add(button());
layout.row().grid().add(button()).add(button()).add(button()).empty();
</pre></div><img src="images/Basics2GridColumns-org.png" alt="Example 2: Grid columns" /><p><a href="./xref-test/net/java/dev/designgridlayout/Basics2GridColumns.html">(Example 2 source)</a></p><p>Some cool things to note:</p><ul><li>You do not specify the number of rows and columns for the canonical grid. Nor do you specify each component's location. DesignGridLayout is order dependent. Just add rows to the grid and components to rows, in order. DesignGridLayout determines the columns and their widths automatically.</li><li>Row 3's first component spans 2 columns. As shown, use the method <tt>add(JComponent child, int span)</tt> when you need to specify a span greater than 1.</li><li>Row 4's has no fourth component. As shown, use method <tt>IGridRow.empty()</tt> for each empty column you need.</li></ul><p>Most forms have labels for each row. So let's add some for Example 3.</p><div class="source"><pre>layout.row().grid(new JLabel(&quot;Row 1&quot;)).add(button().add(button());
layout.row().grid(new JLabel(&quot;Row 2&quot;)).add(button().add(button().add(button());
layout.row().grid(new JLabel(&quot;Row 3&quot;)).add(button(), 2).add( button());
layout.row().grid(new JLabel(&quot;Row 4&quot;)).add(button()).add(button()).add(button()).empty());
</pre></div><img src="images/Basics3GridLabels-org.png" alt="Example 3: Grid with labels" /><p><a href="./xref-test/net/java/dev/designgridlayout/Basics3GridLabels.html">(Example 3 source)</a></p><p>In Example 3 above, labels do not get resized if the window is resized, only components from grid columns get resized on such event.</p><p>Another common exception to the canonical grid are the &quot;Cancel&quot; and &quot;OK&quot; buttons found in dialog boxes. DesignGridLayout allows you to create rows with either grid, left, right, or center alignment per row. We'll also add a blank row with some additional height, to add space before the &quot;Cancel&quot; and &quot;OK&quot; buttons.</p><div class="source"><pre>layout.emptyRow();
layout.row().right().add(new JButton(&quot;Cancel&quot;)).add(new JButton(&quot;OK&quot;));
</pre></div><img src="images/Basics4RightRow-org.png" alt="Example 4: Grid and right-aligned row" /><p><a href="./xref-test/net/java/dev/designgridlayout/Basics4RightRow.html">(Example 4 source)</a></p></div><div class="section"><h2>Forms with several label columns<a name="Forms_with_several_label_columns"></a></h2><p>DesignGridLayout also allows you to design large forms that contain several groups of components, each with its own dedicated label column.</p><p>Here is a snippet that implements the example of sub-grids found in <a href="./grids.html">this page on canonical grids</a>:</p><div class="source"><pre>layout.row().grid(label(&quot;Label 1:&quot;)).add(button(), button())
                          .grid(label(&quot;Long Label 1:&quot;)).add(button(), button());
layout.row().grid(label(&quot;Lbl 2:&quot;))  .add(button(), button(), button())
                          .grid()                      .add(button(), button());
layout.row().grid(label(&quot;Label 3:&quot;)).add(button(), 2).add(button())
                          .grid(label(&quot;Label 3+:&quot;))    .add(button(), 2).add(button());
layout.row().grid(label(&quot;Lbl 4:&quot;))  .add(button());
</pre></div></div><div class="section"><h2>Components spanning several rows<a name="Components_spanning_several_rows"></a></h2><p>DesignGridLayout enables you to define components that span several rows. This is particularly useful in forms that contain &quot;high&quot; components such as <tt>JList</tt>, <tt>JTable</tt>, <tt>JSlider</tt>.</p><p>Of course, DesignGridLayout already supports smart vertical resize for rows containing such high components, without having to span several rows. However, in some situations (e.g. forms that contain a lot of components like <tt>JTextField</tt> and only one or a few higher components), it can be useful to have a couple of normal rows with <tt>JTextField</tt> components and one <tt>JList</tt> spanning all those rows, for example.</p><p>The following snippet shows the simplest example of a row-span component:</p><div class="source"><pre>layout.row().grid(label(&quot;Label 1:&quot;)).add(field1).add(list);
layout.row().grid(label(&quot;Label 2:&quot;)).add(field2).spanRow();
</pre></div><p>That snippet will display as follows:</p><img src="images/RowSpan5SimplestExample-org.png" alt="Example: List spanning two rows" /><p>You can also use row-span components with forms with several label columns:</p><div class="source"><pre>layout.row().grid(label(&quot;Label 1:&quot;)).add(field1).grid(label(&quot;List:&quot;)).add(list);
layout.row().grid(label(&quot;Label 2:&quot;)).add(field2).grid().spanRow();
</pre></div><p>which will show as follows:</p><img src="images/RowSpan6SimpleExampleOnTwoGrids-org.png" alt="Example: Row-span and multi-grid" /><p>Please note that, contrarily to all other DesignGridLayout features, this special feature cannot prevent incorrect usage of the method <tt>spanRow()</tt>; Hence, when <tt>spanRow()</tt> has been used incorrectly, rather than throwing an exception at runtime, DesignGridLayout will display a special marker on positions where <tt>spanRow()</tt> could not properly work.</p><p>The following example exhibits many situations where <tt>spanRow()</tt> is misused; you can see a screenshot of the result below:</p><div class="source"><pre>// spanrow() called in first row
layout.row().grid(label(&quot;lbl0&quot;)).spanRow();
layout.row().center().fill().add(new JSeparator());

// spanrow() called on a subgrid with different number of columns
layout.row().grid(label(&quot;lbl1&quot;)).add(field(&quot;field1&quot;), field(&quot;field1&quot;), field(&quot;field1&quot;));
layout.row().grid(label(&quot;lbl2&quot;)).add(field(&quot;field2&quot;)).spanRow();
layout.row().center().fill().add(new JSeparator());

// spanrow() called with no matching item
layout.row().grid(label(&quot;lbl1&quot;)).add(field(&quot;field1&quot;), 2);
layout.row().grid(label(&quot;lbl2&quot;)).add(field(&quot;field2&quot;)).spanRow();
layout.row().center().fill().add(new JSeparator());

// spanrow() called with no matching item
layout.row().grid(label(&quot;lbl1&quot;)).add(field(&quot;field1&quot;), 2);
layout.row().grid(label(&quot;lbl2&quot;)).spanRow().add(field(&quot;field2&quot;));
layout.row().center().fill().add(new JSeparator());

// spanrow() called with no matching item
layout.row().grid(label(&quot;lbl1&quot;)).add(field(&quot;field1&quot;), 2).add(field(&quot;field1&quot;));
layout.row().grid(label(&quot;lbl2&quot;)).spanRow();
layout.row().center().fill().add(new JSeparator());

// spanrow() called on non matching subgrids
layout.row().grid(label(&quot;lbl11&quot;), 2).add(field(&quot;field1&quot;)).grid(label(&quot;lbl13&quot;)).add(field(&quot;field1&quot;));
layout.row().grid(label(&quot;lbl21&quot;), 1).add(field(&quot;field2&quot;)).grid(label(&quot;lbl22&quot;)).spanRow();
layout.row().center().fill().add(new JSeparator());

// spanrow() called while the previous row is not a gridrow
layout.row().left().add(button());
layout.row().grid(label(&quot;lbl1&quot;)).spanRow();
layout.row().center().fill().add(new JSeparator());

// multiple spanrow() in consecutive gridrows, the first being bad
// Note: the red marker must span rows 2 &amp; 3
layout.row().grid(label(&quot;lbl1&quot;)).add(field(&quot;field1&quot;), field(&quot;field1&quot;), field(&quot;field1&quot;));
layout.row().grid(label(&quot;lbl2&quot;)).add(field(&quot;field2&quot;)).spanRow();
layout.row().grid(label(&quot;lbl3&quot;)).add(field(&quot;field3&quot;)).spanRow();
</pre></div><img src="images/RowSpan4ErrorMarkers-org.png" alt="Example of markers for &quot;spanRow()&quot; misuse" /><p>This way, you can spot all mistakes made in any dialog, and fix them all at once. Note that each marker above has a tooltip that describes further the reason why <tt>spanRow()</tt> cannot work properly.</p></div><div class="section"><h2>Automatic support for right-to-left text orientation<a name="Automatic_support_for_right-to-left_text_orientation"></a></h2><p>DesignGridLayout transparently supports right-to-left languages (such as Arabic or Hebrew) depending on the current default Locale used by the application. You don't need any special action on your layout code for it to work: this comes for free!</p><p>The following screenshots demonstrate the same dialog (with exactly the same layout code, excerpted hereafter) one using the &quot;usual&quot; left-to-right text orientation, the other using right-to-left.</p><img src="images/RightToLeft1LTR-resize-1-org.png" alt="Sample form with left-to-right orientation" /><p>Sample dialog with left-to-right orientation</p><img src="images/RightToLeft2RTL-resize-1-org.png" alt="Sample form with right-to-left orientation" /><p>Same dialog with right-to-left orientation</p><p>Note that there are several ways in Swing to change text orientation in dialogs:</p><ul><li>As mentioned above, set the default Locale for the application, through <tt>Locale.setDefaultLocale(new Locale(...))</tt>: all Swing visuals are impacted</li><li>Set the default Locale to be used by Swing exclusively, through <tt>JComponent.setDefaultLocale(new Locale(...))</tt>: all Swing visuals are impacted</li><li>Set the Locale for a given dialog or frame only, through <tt>JComponent#setLocale(new Locale(...))</tt>: only the given dialog is impacted</li><li>Directly set the <tt>ComponentOrientation</tt> of a given dialog or frame, through <tt>JComponent#applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT)</tt>: only the given dialog is impacted and the Locale is independent of the selected text orientation (as in the right-to-left screenshot above).</li></ul><p>Also note that changing a Locale works only if it has been installed in your JRE (which depends on the way you have installed your JRE).</p></div><div class="section"><h2>Where to go next?<a name="Where_to_go_next"></a></h2><p>This section has covered the main features of DesignGridLayout. A few other features exist but are not yet presented here. You may want to consult the <a href="./apidocs/index.html">API javadoc</a> which contains the official reference for DesignGridLayout.</p><p>Now you are ready to use DesignGridLayout in your own programs!</p></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">Copyright &#169;                    2005-2010
                        <a href="http://designgridlayout.dev.java.net/">Project DesignGridLayout</a>.
            All Rights Reserved.      
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
